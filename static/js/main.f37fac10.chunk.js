(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{14:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(3),s=n.n(i),c=n(15),r=n.n(c),o=(n(22),n(14),n(4)),l=n(16),d=n(12),u=n(9),m=n(10),j=n(1),f=n(13),g=n(11),b=n(2),O=n(7),h=n.p+"static/media/logo.ee174d68.svg",p=n.p+"static/media/fired.5bcdc33c.svg",v=n.p+"static/media/target.c1f0e39e.svg",x=Object(O.a)("rows"),C=Object(O.a)("columns"),k=Object(O.a)("mines"),y=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e,a){var i;return Object(u.a)(this,n),i=t.call(this,e,a),Object.defineProperty(Object(j.a)(i),x,{writable:!0,value:9}),Object.defineProperty(Object(j.a)(i),C,{writable:!0,value:8}),Object.defineProperty(Object(j.a)(i),k,{writable:!0,value:10}),i.getRandomField=function(e,t,n){for(var a=Object(d.a)(Array(e)).map((function(){return Object(d.a)(Array(t)).map((function(){return{opened:!1,flagged:!1,mined:!1,traversed:!1,minesAround:0}}))})),i=0;i<n;){var s=Math.floor(Math.random()*e),c=Math.floor(Math.random()*t);a[s][c].mined||(a[s][c].mined=!0,s>0&&c>0&&a[s-1][c-1].minesAround++,s>0&&a[s-1][c].minesAround++,s>0&&c<a[0].length-1&&a[s-1][c+1].minesAround++,c>0&&a[s][c-1].minesAround++,c<a[0].length-1&&a[s][c+1].minesAround++,s<a.length-1&&c>0&&a[s+1][c-1].minesAround++,s<a.length-1&&a[s+1][c].minesAround++,s<a.length-1&&c<a[0].length-1&&a[s+1][c+1].minesAround++,i++)}return a},i.handleCellClick=function(e,t,n){var a=JSON.parse(JSON.stringify(i.state.field)),s=Object(l.a)({},i.state.situation),c=a[t][n];if(!(s.gameWon||s.gameLost||c.opened)){if(!s.gameStarted){if("left"===e&&c.mined)return console.log(Object(b.a)(Object(j.a)(i),x)[x],Object(b.a)(Object(j.a)(i),C)[C],Object(b.a)(Object(j.a)(i),k)[k]),i.handleResetClick(Object(b.a)(Object(j.a)(i),x)[x],Object(b.a)(Object(j.a)(i),C)[C],Object(b.a)(Object(j.a)(i),k)[k]);s.gameStarted=!0}"left"===e?(c.opened=!0,c.flagged=!1,c.mined?function(){s.gameLost=!0;var e,t=Object(o.a)(a);try{for(t.s();!(e=t.n()).done;){var n,i=e.value,c=Object(o.a)(i);try{for(c.s();!(n=c.n()).done;){var r=n.value;r.mined&&(r.flagged=!1,r.opened=!0)}}catch(l){c.e(l)}finally{c.f()}}}catch(l){t.e(l)}finally{t.f()}}():function e(t,n){if(a[t][n].traversed)return;a[t][n].traversed=!0,a[t][n].opened=!0,0===a[t][n].minesAround&&(t>0&&n>0&&e(t-1,n-1),t>0&&e(t-1,n),t>0&&n<a[0].length-1&&e(t-1,n+1),n>0&&e(t,n-1),n<a[0].length-1&&e(t,n+1),t<a.length-1&&n>0&&e(t+1,n-1),t<a.length-1&&e(t+1,n),t<a.length-1&&n<a[0].length-1&&e(t+1,n+1))}(t,n)):"right"===e&&i.getRemainedFlags()>0&&(c.flagged=!0),function(){var e,t=Object(o.a)(a);try{for(t.s();!(e=t.n()).done;){var n,i=e.value,s=Object(o.a)(i);try{for(s.s();!(n=s.n()).done;){var c=n.value;if(!c.opened&&!c.flagged)return!1}}catch(r){s.e(r)}finally{s.f()}}}catch(r){t.e(r)}finally{t.f()}return!0}()&&(s.gameWon=!0),i.setState({field:a,situation:s})}},i.handleResetClick=function(e,t,n){i.setState({field:i.getRandomField(e,t,n),situation:{gameStarted:!1,gameLost:!1,gameWon:!1}})},i.getRemainedFlags=function(){var e,t=0,n=Object(o.a)(i.state.field);try{for(n.s();!(e=n.n()).done;){var a,s=e.value,c=Object(o.a)(s);try{for(c.s();!(a=c.n()).done;){a.value.flagged&&t++}}catch(r){c.e(r)}finally{c.f()}}}catch(r){n.e(r)}finally{n.f()}return t<=10?10-t:0},i.state={field:i.getRandomField(Object(b.a)(Object(j.a)(i),x)[x],Object(b.a)(Object(j.a)(i),C)[C],Object(b.a)(Object(j.a)(i),k)[k]),situation:{gameStarted:!1,gameLost:!1,gameWon:!1}},i}return Object(m.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"body",children:Object(a.jsxs)("div",{className:"main-block",children:[Object(a.jsx)(N,{remainedFlags:this.getRemainedFlags(),situation:this.state.situation,onResetClick:function(){return e.handleResetClick(Object(b.a)(e,x)[x],Object(b.a)(e,C)[C],Object(b.a)(e,k)[k])}}),Object(a.jsx)(E,{rowsArr:this.state.field,onClick:function(t,n,a){return e.handleCellClick(t,n,a)}})]})})}}]),n}(s.a.Component);function N(e){return Object(a.jsxs)("div",{className:"control-panel",children:[Object(a.jsx)(w,{}),Object(a.jsx)(S,{remainedFlags:e.remainedFlags,situation:e.situation,onResetClick:e.onResetClick})]})}function w(){return Object(a.jsxs)("div",{className:"logo-panel",children:[Object(a.jsx)("p",{className:"app-name",children:"Minesweeper"}),Object(a.jsx)("img",{src:h,className:"app-logo",alt:"logo"})]})}function S(e){return Object(a.jsxs)("div",{className:"status-panel",children:[Object(a.jsx)(A,{remainedFlags:e.remainedFlags}),Object(a.jsx)(F,{situation:e.situation,onResetClick:e.onResetClick}),Object(a.jsx)(R,{situation:e.situation})]})}function A(e){return Object(a.jsx)("p",{className:"flags-counter",children:e.remainedFlags})}function F(e){var t;return e.situation.gameStarted?e.situation.gameLost?t=":/":e.situation.gameWon?t=":))":e.situation.gameStarted&&(t=":)"):t="Reset",Object(a.jsx)("button",{className:"reset",onClick:e.onResetClick,children:t})}var R=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e,a){var i;return Object(u.a)(this,n),(i=t.call(this,e,a)).updateTimeElapsed=function(){i.setState((function(e){return{secondsElapsed:("0"+Math.floor((Date.now()-e.startDate)/1e3%60)).slice(-2),minutesElapsed:Math.floor((Date.now()-e.startDate)/1e3/60)}}))},i.state={startDate:null,secondsElapsed:"00",minutesElapsed:0},i}return Object(m.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){this.props.situation.gameStarted&&!e.situation.gameStarted?(this.setState({startDate:Date.now()}),this.timerId=setInterval(this.updateTimeElapsed,1e3)):this.props.situation.gameWon||this.props.situation.gameLost?clearInterval(this.timerId):!this.props.situation.gameStarted&&(e.situation.gameStarted||e.situation.gameWon||e.situation.gameLost)&&(clearInterval(this.timerId),this.setState({secondsElapsed:"00",minutesElapsed:0}))}},{key:"render",value:function(){return Object(a.jsxs)("p",{className:"timer",children:[this.state.minutesElapsed,":",this.state.secondsElapsed]})}}]),n}(s.a.Component);function E(e){return Object(a.jsx)("div",{className:"field",children:e.rowsArr.map((function(t,n){return Object(a.jsx)(D,{rowNum:n,rowArr:t,onClick:function(t,a){return e.onClick(t,n,a)}},n)}))})}function D(e){return Object(a.jsx)("div",{className:"row",children:e.rowArr.map((function(t,n){return Object(a.jsx)(L,{cell:t,onClick:function(t){return e.onClick(t,n)}},"r".concat(e.rowNum,"_c").concat(n))}))})}function L(e){var t,n=Object(a.jsx)("span",{className:"cell",id:"unopened"}),i=Object(a.jsx)("div",{className:"cell",id:"opened-clear",children:e.cell.minesAround>0&&e.cell.minesAround}),s=Object(a.jsx)("img",{className:"cell",id:"flag",alt:"flag",src:v}),c=Object(a.jsx)("img",{className:"cell",id:"mine",alt:"mine",src:p});return t=e.cell.opened?e.cell.mined?c:i:e.cell.flagged?s:n,Object(a.jsx)("button",{className:"cell-container",onClick:function(){return e.onClick("left")},onContextMenu:function(t){return t.preventDefault(),e.onClick("right")},children:t})}var M=function(){return Object(a.jsx)(y,{})};var I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),s(e),c(e)}))};r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(M,{})}),document.getElementById("root")),I()}},[[23,1,2]]]);
//# sourceMappingURL=main.f37fac10.chunk.js.map